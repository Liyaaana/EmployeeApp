@* @model List<EmployeeApp.Models.CalendarEvent>

<div class="container mt-4">
    <h3>Company Calendar</h3>
    <div id="calendar"></div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var calendarEl = document.getElementById('calendar');

        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: ''
            },
            events: [
    @foreach (var ev in Model)
    {
        var color = ev.Type == "Holiday" ? "#198754" : "#0d6efd";
        <text>
                            {
                                title: "@ev.Title",
                                start: "@ev.Date.ToString("yyyy-MM-dd")",
                                backgroundColor: "@color",
                                borderColor: "@color",
                                textColor: "white",
                                extendedProps: {
                                    type: "@ev.Type",
                                    employeeName: "@(ev.EmployeeName ?? "")"
                                }
                            },
        </text>
    }
            ],
            eventClick: function(info) {
                var eventObj = info.event;
                alert('Event: ' + eventObj.title);
            },
            dayMaxEvents: true,
            height: "auto"
        });

    @foreach (var ev in Model)
    {
        <text>
                    console.log('Adding event: ', '@ev.Title');
        </text>
    }

        calendar.render();
    });
</script>
 *@